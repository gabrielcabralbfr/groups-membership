<div class="container w-100 mt-5">
    <form (ngSubmit)="signUp(signupForm)" #signupForm="ngForm">
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" class="form-control" [(ngModel)]="user.username" name="username"
                placeholder="Enter your username" type="text" required minlength="2" #username="ngModel">
            <div *ngIf="username.invalid && (username.dirty || username.touched)" class="validation-error p-1">
                <div *ngIf="username.errors.required">
                    Name is required.
                </div>
                <div *ngIf="username.errors.minlength">
                    Name must be at least 2 characters long.
                </div>
                <div *ngIf="username.errors.email">
                    should be email
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="userEmail">Email address</label>
            <input type="email" class="form-control" [(ngModel)]="user.email" name="userEmail"
                placeholder="Enter your email" type="text" required email #userEmail="ngModel">
            <div *ngIf="userEmail.invalid && (userEmail.dirty || userEmail.touched)" class="validation-error p-1">
                <div *ngIf="userEmail.errors.required">
                    Email is required.
                </div>
                <div *ngIf="userEmail.errors.email">
                    You should insert a valid e-mail adress
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="userPass">Password</label>
            <input required class="form-control" [(ngModel)]="user.password" name="userPass"
                placeholder="Enter your password" required type="password" #userPass="ngModel">
            <div *ngIf="userPass.invalid && (userPass.dirty || userPass.touched)" class="validation-error p-1">
                <div *ngIf="userPass.errors.required">
                    Password is required.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="passwordConfirmation">Password</label>
            <input required class="form-control" name="passwordConfirmation" [(ngModel)]="user.passwordConfirmation"
                placeholder="Confirm your password" required type="password" #passwordConfirmation="ngModel" [pattern]="userPass.value">
            <div *ngIf="passwordConfirmation.invalid && (passwordConfirmation.dirty || passwordConfirmation.touched)"
                class="validation-error p-1">
                <div *ngIf="passwordConfirmation.errors.required">
                    Password confirmation is required.
                </div>
                <div *ngIf="passwordConfirmation.errors.pattern">
                    Passwords does not match
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-block btn-primary float-right" [disabled]="!signupForm.form.valid">
            <span *ngIf="!isSigningUp">Sign up</span>
            <span *ngIf="isSigningUp">
                <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </span>

        </button>
    </form>
</div>